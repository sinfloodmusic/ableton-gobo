{"version":3,"sources":["/Users/mdewall/dev/ableton-gobo/angular2-gobo/src/$_gendir lazy","/Users/mdewall/dev/ableton-gobo/angular2-gobo/src/app/app.component.css","/Users/mdewall/dev/ableton-gobo/angular2-gobo/src/app/app.component.html","/Users/mdewall/dev/ableton-gobo/angular2-gobo/src/app/app.component.ts","/Users/mdewall/dev/ableton-gobo/angular2-gobo/src/app/app.module.ts","/Users/mdewall/dev/ableton-gobo/angular2-gobo/src/app/socket.service.ts","/Users/mdewall/dev/ableton-gobo/angular2-gobo/src/environments/environment.ts","/Users/mdewall/dev/ableton-gobo/angular2-gobo/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\treturn new Promise(function(resolve, reject) { reject(new Error(\"Cannot find module '\" + req + \"'.\")); });\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/mdewall/dev/ableton-gobo/angular2-gobo/src/$$_gendir lazy\n// module id = ../../../../../src/$$_gendir lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/mdewall/dev/ableton-gobo/angular2-gobo/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<!--Mask-->\\n<div class=\\\"view\\\">\\n    <!--Intro content-->\\n    <div class=\\\"full-bg-img flex-center\\\">\\n        <section>\\n            <div class=\\\"container\\\">\\n\\n                <div class=\\\"row\\\" style=\\\"padding-top: 15px;\\\">\\n                    <div class=\\\"col-md-12\\\">\\n                        <div style=\\\"text-align:center\\\" [ngClass]=\\\"playing == true ? 'alert alert-success' : 'alert alert-danger'\\\">\\n                            {{current_song}}\\n                        </div>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-md-12\\\">\\n                        <div class=\\\"text-center\\\">\\n                            <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"stopPlaying()\\\">Stop</button>\\n                        </div>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"card-deck\\\" style=\\\"padding-top: 15px;\\\">\\n                    <div class=\\\"card\\\" style=\\\"text-align:center\\\" *ngFor=\\\"let song of song_list\\\">\\n                        <div class=\\\"card-block\\\">\\n                            <p class=\\\"card-text\\\">{{song.title}}</p>\\n                        </div>\\n                        <div class=\\\"card-footer\\\">\\n                            <button class=\\\"btn btn-primary\\\" (click)=\\\"triggerScene(song)\\\">Play</button>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </section>\\n     </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/mdewall/dev/ableton-gobo/angular2-gobo/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { SocketService } from \"./socket.service\";\n \n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n \n    public messages: Array<any>;\n    public song_list: Array<any>;\n    public playing: Boolean;\n    public current_song: String;\n\n    public chatBox: string;\n \n    public constructor(private socket: SocketService) {\n        this.messages = [];\n        this.chatBox = \"\";\n        this.current_song = \"Stopped\";\n    }\n \n\n    /*\t\n        {\n            \"info\": {\n                \"api_version\": \"1.0\",\n                \"ableton_version\": \"7.7\"\n            },\n            \n            \"payload\": \"status\",\n            \n            \"data\": {\n                \n                \"playing\": true,\n                \"song\": \"Request Denied\",\n                \"index\": 10,\n                \"time\": \"3:02\",\n                \"left\": \"0:22\"\n            }\n        }\n    */\n\n    /*\n\n\t{\n\t\t\"info\": {\n\t\t\t\"api_version\": \"1.0\",\n\t\t\t\"ableton_version\": \"7.7\"\n\t\t},\n\t\t\n\t\t\"payload\": \"songlist\",\n\t\t\n\t\t\"data\": {\n\t\t\t\n\t\t\t\"songs\": [\n\t\t\t\n\t\t\t{\n\t\t\t\t\"title\": \"Burn Away\",\n\t\t\t\t\"index\": 0,\n\t\t\t\t\"length\": 300,\n\t\t\t\t\"bpm\": 102.4,\n\t\t\t\t\"timing\": \"4/4\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"title\": \"Request Denied\",\n\t\t\t\t\"index\": 10,\n\t\t\t\t\"length\": 288,\n\t\t\t\t\"bpm\": 95.0,\n\t\t\t\t\"timing\": \"4/4\"\n\t\t\t}\n\t\t\t]\n\t\t}\n\t}\n\n\t*/\n\n    public ngOnInit() {\n\n        this.socket.getEventListener().subscribe(event => {\n\n            if(event.type == \"message\") {\n\n                //this.messages.push(JSON.stringify(event.data));\n\n                var ableton_message = event.data;\n\n                console.log(ableton_message);\n\n                if (ableton_message.payload == \"status\") {\n\n                    this.playing = ableton_message.data.playing;\n\n                    this.current_song = ableton_message.data.song;\n\n                    if (this.playing){\n                        console.log(\"Now Playing\" + \": \" + this.current_song);\n                    }\n                    else {\n                        this.current_song = \"Stopped\";\n\n                        console.log(\"Stopped\");\n                    }\n                }\n\n                if (ableton_message.payload == \"scene_list\") {\n\n                    this.song_list = ableton_message.data.songs;\n\n                    console.log(\"Got scene_list\");\n                }\n            }\n\n            if(event.type == \"close\") {\n                this.messages.push(\"Disconnected from Ableton goBetween\");\n            }\n            if(event.type == \"open\") {\n                this.messages.push(\"Connected to Ableton goBetween\");\n\n                //  Get song list\n                this.socket.send('{\"payload\":\"list_scenes\"}');\n            }\n        });\n    }\n \n    public ngOnDestroy() {\n        this.socket.close();\n    }\n \n    public send() {\n        if(this.chatBox) {\n            this.socket.send(this.chatBox);\n            this.chatBox = \"\";\n        }\n    }\n\n    public triggerScene($sceneObj){\n\n        console.log(\"triggerScene() called with index \" + $sceneObj.index);\n        console.log(\"this will trigger song \" + $sceneObj.title);\n\n        var ableton_command = new Object();\n\n        ableton_command[\"payload\"] = \"trigger_scene\";\n        ableton_command[\"index\"] = $sceneObj.index;\n\n        this.socket.send(JSON.stringify(ableton_command));\n    }\n\n    public stopPlaying(){\n\n        console.log(\"stopPlaying() called\");\n\n        var ableton_command = new Object();\n\n        ableton_command[\"payload\"] = \"stop\";\n\n        this.socket.send(JSON.stringify(ableton_command));\n    }\n \n    public isSystemMessage(message: string) {\n        return message.startsWith(\"/\") ? \"<strong>\" + message.substring(1) + \"</strong>\" : message;\n    }\n \n}\n\n\n// WEBPACK FOOTER //\n// /Users/mdewall/dev/ableton-gobo/angular2-gobo/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n \nimport { AppComponent } from './app.component';\nimport { SocketService } from \"./socket.service\";\n \n@NgModule({\n    declarations: [\n        AppComponent\n    ],\n    imports: [\n        BrowserModule,\n        FormsModule,\n        HttpModule\n    ],\n    providers: [SocketService],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n// WEBPACK FOOTER //\n// /Users/mdewall/dev/ableton-gobo/angular2-gobo/src/app/app.module.ts","import { Injectable, EventEmitter } from '@angular/core';\n \n@Injectable()\nexport class SocketService {\n \n    private socket: WebSocket;\n    private listener: EventEmitter<any> = new EventEmitter();\n \n    public constructor() {\n\n        var servername = window.location.hostname;\n\n        console.log(\"GoBo Server Name \" + servername);\n\n        this.socket = new WebSocket(\"ws://\" + servername + \":12345/ws\");\n\n        this.socket.onopen = event => {\n            this.listener.emit({\"type\": \"open\", \"data\": event});\n        }\n        this.socket.onclose = event => {\n            this.listener.emit({\"type\": \"close\", \"data\": event});\n        }\n        this.socket.onmessage = event => {\n            this.listener.emit({\"type\": \"message\", \"data\": JSON.parse(event.data)});\n        }\n    }\n \n    public send(data: string) {\n\n        if (data == \"1\"){\n            this.socket.send('{\"payload\":\"trigger_scene\"}');\n            this.socket.send('{\"payload\":\"get_status\"}');\n        }\n        else {\n            this.socket.send(data);\n        }\n    }\n \n    public close() {\n        this.socket.close();\n    }\n \n    public getEventListener() {\n        return this.listener;\n    } \n}\n\n\n// WEBPACK FOOTER //\n// /Users/mdewall/dev/ableton-gobo/angular2-gobo/src/app/socket.service.ts","export const environment = {\n  production: true\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/mdewall/dev/ableton-gobo/angular2-gobo/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /Users/mdewall/dev/ableton-gobo/angular2-gobo/src/main.ts"],"sourceRoot":"webpack:///"}